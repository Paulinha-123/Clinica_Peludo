<!DOCTYPE html>

<html lang="pt-br">

<head>
   
    <meta charset="UTF-8">
   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../css/styles.css">
   
    <title>minhas-consultas</title>

</head>

<body>
  
    <h1>Login</h1>
  
    <form id="loginForm">
  
        <label for="username">Nome de Usuário:</label>
  
        <input type="text" id="username" name="username" required><br><br>

        <label for="password">Senha:</label>
  
        <input type="password" id="password" name="password" required><br><br>

        <button type="submit">Entrar</button>
    </form>

    <script>
       
       document.getElementById('loginForm').addEventListener('submit', async function(event) {
       
        event.preventDefault();

            const username = document.getElementById('username').value;
       
            const password = document.getElementById('password').value;

            const response = await fetch('/login', {  // Não esquecer de configurar a rota POST para login no backend
              
                method: 'POST',
              
                headers: {
              
                    'Content-Type': 'application/json',
              
                },
              
                body: JSON.stringify({ username, password })
            
            });

         
         
         
            const data = await response.json();
           
            if (response.ok) {
                
               
              
               window.location.href = '/minhas-consultas';
            
            } else {
                
                alert(data.error || 'Erro no login'); //Caso o login falhar
            
            }
        
        });
    
    </script>

</body>

</html>
